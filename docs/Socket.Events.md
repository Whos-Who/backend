# Socket.IO event listeners

Documentation of Socket listeners, the data they should be receiving and a description of the client is supposed to use it. All event listeners require query parameters `clientId`, a UUID and `socketId`, the socket connetion ID (generated by Socket.IO).

# Table of Content

- [Room](#room)
  - [room-create](#room-create)
  - [room-join](#room-join)
  - [room-leave](#room-leave)
- [Game](#game)
- [Misc](#misc)

## Room

### room-create

```
socket.emit('room-create', (data) => {....})
```

### Description

Event listener that will respond when client decides to create a room, this listener requires the
`username`, in addition to the query parameters.

### Required Payload

`username` - username of the client attempting to create a room.

### Response

**Success**

Server will emit a `room-join` to the client together with the `gameState` back to the client, indicating that the client can join the room.

**Failure**

Server will emit a `error-room-create` to the client, together with the error message `err`, indicating an error occured.

### room-join

```
socket.emit('room-join', (data) => {....})
```

### Description

Event listener that will respond when client decides to join a room, this listener requires the
`username` and `roomCode`, in addition to the query parameters.

### Required Payload

`username` - username of the client attempting to join a room.
`roomCode` - room ID, which other users can join the room

### Response

**Success**

Server will emit a `room-join` to the client together with the `gameState` back to the client, indicating that the client can join the room.

**Failure**

Server will emit a `error-room-join` to the client, together with the error message `err`, indicating an error occured.

### room-leave

```
socket.emit('room-leave', (data) => {....})
```

### Description

Event listener that will respond when client decides to leave a room, this listener requires the
`roomCode`, in addition to the query parameters.

### Required Payload

`roomCode` - room id of the client attempting to leave.

### Response

**Success**
Server will emit a `room-leave` to the client together with the `gameState` back to the client, indicating that the client can join the room.

Server will also emit a `user-leave` event to announce to the all clients in the room which user had left.

If the previous host left, the server will emit a `new-host` event to announce who is the new host.

**Failure**
Server will emit a `error-room-leave` to the client, together with the error message `err`, indicating an error occured.

## Game

## Misc

<!--
Template

### Description

### Required Payload

### Response

**Success**

**Failure**
-->
